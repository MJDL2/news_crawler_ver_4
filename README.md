# λ„¤μ΄λ²„ λ‰΄μ¤ ν¬λ΅¤λ¬ v4.2.1

λ„¤μ΄λ²„ λ‰΄μ¤ κ²€μƒ‰ κ²°κ³Όλ¥Ό μμ§‘ν•κ³  λ³Έλ¬Έμ„ μ¶”μ¶ν•λ” Python κΈ°λ° ν¬λ΅¤λ¬μ…λ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

- π” λ„¤μ΄λ²„ λ‰΄μ¤ κ²€μƒ‰ λ° URL μμ§‘
- π“„ λ‰΄μ¤ λ³Έλ¬Έ μλ™ μ¶”μ¶
- β™οΈ λ‹¤μ–‘ν• κ²€μƒ‰ μµμ… μ§€μ›
- π“ κ· λ“± λ¶„ν¬ μ¶”μ¶ λ¨λ“
- π’Ύ λ°°μΉ μ €μ¥ μ‹μ¤ν…
- π–¥οΈ CLI λ° λ€ν™”ν• μΈν„°νμ΄μ¤
- π”„ λ³µμ κ²€μƒ‰μ–΄ μ§€μ› (v4.1)
- πΆ μ–Έλ΅ μ‚¬ μ„ νƒ κΈ°λ¥ (v4.1)
- π“… κ²€μƒ‰μ–΄Γ—μ–Έλ΅ μ‚¬Γ—λ‚ μ§ λ§¤νΈλ¦­μ¤ μμ§‘ (v4.1)
- π›΅οΈ 403 μ¤λ¥ λ€μ‘ λ° μ„Έμ… ν’€ κ΄€λ¦¬ (v4.2)
- β™οΈ ν†µν•© μ„¤μ • νμΌ μ‹μ¤ν… (v4.2)
- π”„ κ°μ„ λ λ‚ μ§λ³„ μμ§‘ λ° λ³‘ν•© κΈ°λ¥ (v4.2)

## λΉ λ¥Έ μ‹μ‘

### μ„¤μΉ

```bash
# μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/MJDL2/news_crawler_ver_4.git
cd news_crawler_ver_4

# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt
```

### κΈ°λ³Έ μ‚¬μ©λ²•

```bash
# κ°„λ‹¨ν• κ²€μƒ‰
python main.py "κ²€μƒ‰μ–΄"

# λ³Έλ¬Έ μ¶”μ¶ ν¬ν•¨
python main.py "κ²€μƒ‰μ–΄" --extract-content

# λ€ν™”ν• λ¨λ“
python main.py -i

# Windowsμ—μ„ λ€ν™”ν• λ¨λ“ (κ¶μ¥)
run_interactive_v2.bat
# λλ” PowerShell
.\run_interactive.ps1

# μ•μ „ λ¨λ“ μ‹¤ν–‰ (403 μ¤λ¥ λ°©μ§€)
run_safe_mode.bat

# ν”„λ΅μ‹λ¥Ό ν†µν• μ‹¤ν–‰
run_with_proxy.bat  # ν”„λ΅μ‹ μ£Όμ† μ„¤μ • ν•„μ”
```

### μ„¤μ • νμΌ (v4.2.0 μ—…λ°μ΄νΈ)

**κ¶μ¥**: `unified_config.json` μ‚¬μ© (λ¨λ“  μ„¤μ • ν†µν•©)
**λ κ±°μ‹**: `config.json` + `crawler_config.json` (ν•μ„ νΈν™μ„± μ μ§€)

#### μ£Όμ” μ„¤μ • ν•­λ©

```json
{
  "network": {
    "timeout": 30,
    "retries": 3,
    "delay_between_requests": 2.0
  },
  "extraction": {
    "min_content_length": 100,
    "max_content_length": 50000
  },
  "advanced": {
    "session_management": {
      "max_sessions_pool": 3,
      "enable_cookie_persistence": true
    },
    "anti_403": {
      "enable_progressive_backoff": true,
      "max_backoff_seconds": 120
    }
  }
}
```

### μ£Όμ” μµμ…

| μµμ… | μ„¤λ… | μμ‹ |
|------|------|------|
| `--period` | κ²€μƒ‰ κΈ°κ°„ | `1w`, `1m`, `custom` |
| `--extract-content` | λ³Έλ¬Έ μ¶”μ¶ ν™μ„±ν™” | - |
| `--content-limit` | λ³Έλ¬Έ μ¶”μ¶ κ°μ μ ν• | `50` |
| `--extraction-mode` | μ¶”μ¶ λ°©μ‹ | `balanced`, `per_date` |

λ” λ§μ€ μµμ…μ€ `python main.py --help` μ°Έμ΅°

## ν”„λ΅μ νΈ κµ¬μ΅°

```
news_crawler_ver_4/
β”β”€β”€ src/
β”‚   β”β”€β”€ core/       # ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”‚   β”β”€β”€ crawler.py          # λ©”μΈ ν¬λ΅¤λ§ μ—”μ§„
β”‚   β”‚   β”β”€β”€ extractors.py       # URL μ¶”μ¶ λ¨λ“
β”‚   β”‚   β”β”€β”€ content_extractor.py # λ³Έλ¬Έ μ¶”μ¶ λ¨λ“
β”‚   β”‚   β””β”€β”€ daily_collector.py  # λ‚ μ§λ³„ μμ§‘ λ¨λ“
β”‚   β”β”€β”€ models/     # λ°μ΄ν„° λ¨λΈ
β”‚   β”‚   β”β”€β”€ news.py             # λ‰΄μ¤ λ°μ΄ν„° ν΄λμ¤
β”‚   β”‚   β””β”€β”€ search_options.py   # κ²€μƒ‰ μµμ… ν΄λμ¤
β”‚   β”β”€β”€ ui/         # μ‚¬μ©μ μΈν„°νμ΄μ¤
β”‚   β”‚   β”β”€β”€ cli.py              # λ…λ Ήμ¤„ μΈν„°νμ΄μ¤
β”‚   β”‚   β””β”€β”€ interactive.py      # λ€ν™”ν• μΈν„°νμ΄μ¤
β”‚   β””β”€β”€ utils/      # μ ν‹Έλ¦¬ν‹°
β”‚       β”β”€β”€ config.py           # μ„¤μ • κ΄€λ¦¬
β”‚       β”β”€β”€ file_saver.py       # νμΌ μ €μ¥ μ ν‹Έλ¦¬ν‹°
β”‚       β”β”€β”€ balanced_extractor.py # κ· λ“± μ¶”μ¶ μ•κ³ λ¦¬μ¦
β”‚       β”β”€β”€ session_pool.py     # μ„Έμ… ν’€ κ΄€λ¦¬ (v4.2)
β”‚       β””β”€β”€ monitoring.py       # λ¨λ‹ν„°λ§ λ„κµ¬ (v4.2)
β”β”€β”€ data/           # μμ§‘ λ°μ΄ν„° μ €μ¥
β”‚   β”β”€β”€ news_data/  # μ¶”μ¶λ λ‰΄μ¤ λ³Έλ¬Έ
β”‚   β”β”€β”€ url_data/   # μμ§‘λ URL λ©λ΅
β”‚   β””β”€β”€ temp/       # μ„μ‹ νμΌ (v4.2)
β”β”€β”€ dev/            # κ°λ° κ΄€λ ¨ νμΌ
β”‚   β””β”€β”€ analysis/   # κµ¬μ΅° λ¶„μ„ μ¤ν¬λ¦½νΈ
β”β”€β”€ docs/           # ν”„λ΅μ νΈ λ¬Έμ„
β”‚   β”β”€β”€ issues/     # μ΄μ λ° λ¬Έμ  λ¶„μ„ (v4.2.1)
β”‚   β”β”€β”€ ARCHITECTURE.md     # μ•„ν‚¤ν…μ² μ„¤κ³„
β”‚   β”β”€β”€ DEVELOPMENT.md      # κ°λ° κ°€μ΄λ“
β”‚   β”β”€β”€ PROGRESS.md         # μ§„ν–‰ μƒν™©
β”‚   β”β”€β”€ USER_GUIDE.md       # μ‚¬μ©μ κ°€μ΄λ“
β”‚   β”β”€β”€ 403_ERROR_GUIDE.md  # 403 μ¤λ¥ ν•΄κ²°
β”‚   β””β”€β”€ PYTHON313_FIX.md    # Python 3.13 νΈν™μ„±
β”β”€β”€ tests/          # ν…μ¤νΈ μ½”λ“
β”β”€β”€ test_scripts/   # ν…μ¤νΈ μ¤ν¬λ¦½νΈ (v4.2)
β”β”€β”€ config.json     # λ κ±°μ‹ μ„¤μ • νμΌ
β”β”€β”€ crawler_config.json # ν¬λ΅¤λ§ μ„¤μ • νμΌ
β”β”€β”€ unified_config.json # ν†µν•© μ„¤μ • νμΌ (v4.2 κ¶μ¥)
β”β”€β”€ main.py         # μ§„μ…μ 
β”β”€β”€ requirements.txt # μμ΅΄μ„± ν¨ν‚¤μ§€
β”β”€β”€ run_interactive_v2.bat # Windows λ€ν™”ν• μ‹¤ν–‰
β”β”€β”€ run_safe_mode.bat     # 403 μ¤λ¥ λ€μ‘ λ¨λ“
β”β”€β”€ run_with_proxy.bat    # ν”„λ΅μ‹ μ‹¤ν–‰ λ¨λ“
β””β”€β”€ run_interactive.ps1   # PowerShell μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
```

## λ¬Έμ„

- π“– [μ‚¬μ©μ κ°€μ΄λ“](docs/USER_GUIDE.md) - μƒμ„Έν• μ‚¬μ© λ°©λ²•
- π—οΈ [μ•„ν‚¤ν…μ² λ¬Έμ„](docs/ARCHITECTURE.md) - ν”„λ΅μ νΈ κµ¬μ΅° λ° μ„¤κ³„
- π’» [κ°λ° κ°€μ΄λ“](docs/DEVELOPMENT.md) - κ°λ° λ° κΈ°μ—¬ λ°©λ²•
- π“ [λ³€κ²½ μ΄λ ¥](docs/CHANGELOG.md) - λ²„μ „λ³„ λ³€κ²½μ‚¬ν•­
- π“ [μ§„ν–‰ μƒν™©](docs/PROGRESS.md) - ν„μ¬ κ°λ° μƒνƒ λ° κ³„ν

## μμ‹

### μµκ·Ό 1μ£ΌμΌ AI λ‰΄μ¤ μμ§‘
```bash
python main.py "μΈκ³µμ§€λ¥" --period 1w --sort recent --extract-content --content-limit 50
```

### νΉμ • κΈ°κ°„ λ‰΄μ¤ κ· λ“± μ¶”μ¶
```bash
python main.py "κ²½μ " --period custom --start-date 20240501 --end-date 20240531 --extract-content --extraction-mode balanced
```

## μ¶λ ¥ ν•μ‹

μμ§‘λ λ°μ΄ν„°λ” JSON ν•μ‹μΌλ΅ μ €μ¥λ©λ‹λ‹¤:

- **URL νμΌ**: `url_data/κ²€μƒ‰μ–΄_YYYYMMDD_HHMMSS.json`
- **λ³Έλ¬Έ νμΌ**: `news_data/κ²€μƒ‰μ–΄_YYYYMMDD_HHMMSS_batch_N.json`

## μ”κµ¬μ‚¬ν•­

- Python 3.8 μ΄μƒ
- μΈν„°λ„· μ—°κ²°
- ν•„μ ν¨ν‚¤μ§€: `requests`, `beautifulsoup4`, `tqdm`

## λ¬Έμ  ν•΄κ²°

### 403 Forbidden μ¤λ¥ (v4.2.0 κ°μ„ )
λ„¤μ΄λ²„κ°€ λ΄‡μ„ κ°μ§€ν•μ—¬ μ°¨λ‹¨ν•λ” κ²½μ°:
- **μλ™ λ€μ‘**: μ„Έμ… ν’€ κ΄€λ¦¬λ΅ μ°¨λ‹¨λ μ„Έμ… μλ™ κµμ²΄
- **μ„¤μ • μ΅°μ •**: `unified_config.json`μ—μ„ `delay_between_requests`λ¥Ό 3.0 μ΄μƒμΌλ΅ μ¦κ°€
- **ν”„λ΅μ‹ μ‚¬μ©**: ν™κ²½ λ³€μ μ„¤μ • `set HTTP_PROXY=http://your-proxy:port`
- **μ•μ „ λ¨λ“**: `run_safe_mode.bat` μ‹¤ν–‰
- μμ„Έν• ν•΄κ²° λ°©λ²•μ€ [403 μ¤λ¥ κ°€μ΄λ“](docs/403_ERROR_GUIDE.md) μ°Έμ΅°

### Windows ν•κΈ€ κΉ¨μ§
λ°μ΄ν„°λ” μ •μƒμ΄λ©° μ½μ†” ν‘μ‹λ§ κΉ¨μ§€λ” κ²½μ°:
- `chcp 65001` μ‹¤ν–‰ ν›„ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰
- λλ” PowerShell μ‚¬μ© κ¶μ¥: `.\run_interactive.ps1`

### Python 3.13 νΈν™μ„±
Python 3.13 μ‚¬μ© μ‹ cookiejar μ¤λ¥κ°€ λ°μƒν•λ” κ²½μ°:
- μλ™ ν¨μΉκ°€ μ μ©λμ–΄ μμ§€λ§, λ¬Έμ  μ§€μ† μ‹ [Python 3.13 μμ • κ°€μ΄λ“](docs/PYTHON313_FIX.md) μ°Έμ΅°
- κ¶μ¥: Python 3.11 λλ” 3.12 μ‚¬μ©

### μ„¤μ • νμΌ κ΄€λ ¨
- **v4.2.0**: `unified_config.json` μ‚¬μ© κ¶μ¥ (λ¨λ“  μ„¤μ • ν†µν•©)
- **μ΄μ „ λ²„μ „**: `config.json` + `crawler_config.json` (ν•μ„ νΈν™μ„± μ μ§€)
- μ„¤μ • μ¶©λ μ‹: `unified_config.json`μ΄ μ°μ„  μ μ©

λ” λ§μ€ λ¬Έμ  ν•΄κ²° λ°©λ²•μ€ [μ‚¬μ©μ κ°€μ΄λ“](docs/USER_GUIDE.md#8-λ¬Έμ -ν•΄κ²°)λ¥Ό μ°Έμ΅°ν•μ„Έμ”.

## λΌμ΄μ„ μ¤ λ° μ£Όμμ‚¬ν•­

- μ΄ ν”„λ΅μ νΈλ” κµμ΅ λ° μ—°κµ¬ λ©μ μΌλ΅ μ μ‘λμ—μµλ‹λ‹¤
- μμ§‘λ λ°μ΄ν„°μ μ €μ‘κ¶μ€ κ° μ–Έλ΅ μ‚¬μ— μμµλ‹λ‹¤
- κ³Όλ„ν• μ”μ²­μΌλ΅ μΈν• μ„λ²„ λ¶€ν•λ¥Ό μ£Όμν•μ„Έμ”
- λ„¤μ΄λ²„ μ„λΉ„μ¤ μ΄μ©μ•½κ΄€μ„ μ¤€μν•μ„Έμ”
- v4.2.0λ¶€ν„° 403 μ¤λ¥ μλ™ λ€μ‘ κΈ°λ¥μ΄ μ¶”κ°€λμ—μΌλ‚, μ μ ν• μ‚¬μ©μ„ κ¶μ¥ν•©λ‹λ‹¤

## κΈ°μ—¬ν•κΈ°

λ²„κ·Έ λ¦¬ν¬νΈ, κΈ°λ¥ μ μ•, Pull Requestλ¥Ό ν™μν•©λ‹λ‹¤!

### μ£Όμ” κ°λ° μμ—­
- 403 μ¤λ¥ λ€μ‘ κ°μ„  (v4.2.0μ—μ„ ν¬κ² κ°μ„ λ¨)
- λ‹¤λ¥Έ λ‰΄μ¤ μ‚¬μ΄νΈ μ§€μ› μ¶”κ°€
- λΉ„λ™κΈ° μ²λ¦¬ λ„μ…
- μ›Ή μΈν„°νμ΄μ¤ κ°λ°

μμ„Έν• λ‚΄μ©μ€ [κ°λ° κ°€μ΄λ“](docs/DEVELOPMENT.md)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## λ²„μ „ νμ¤ν† λ¦¬

- **v4.2.1 (2025-05-29)**: λ‚ μ§λ³„ μμ§‘ λ¬Έμ  λ¶„μ„, issues λ””λ ‰ν† λ¦¬ μ¶”κ°€
- **v4.2.0 (2025-05-29)**: ν†µν•© μ„¤μ • νμΌ, μ„Έμ… ν’€ κ΄€λ¦¬, 403 μ¤λ¥ λ€μ‘ κ°•ν™”
- **v4.1.x (2025-05-28)**: λ³µμ κ²€μƒ‰μ–΄, μ–Έλ΅ μ‚¬ μ„ νƒ, λ€ν™”ν• μΈν„°νμ΄μ¤ κ°μ„ 
- **v4.0.0 (2025-05-28)**: μ „λ©΄ λ¦¬ν©ν† λ§, λ¨λ“ν™” μ•„ν‚¤ν…μ²
- **v3.x**: κ· λ“± μ¶”μ¶, λ‚ μ§λ³„ μμ§‘ κΈ°λ¥
- **v2.x**: λ³Έλ¬Έ μ¶”μ¶, λ°°μΉ μ €μ¥ μ‹μ¤ν…
- **v1.x**: κΈ°λ³Έ ν¬λ΅¤λ§ κΈ°λ¥

μ „μ²΄ λ³€κ²½ μ΄λ ¥μ€ [CHANGELOG.md](docs/CHANGELOG.md)λ¥Ό μ°Έμ΅°ν•μ„Έμ”.

---

Made with β¤οΈ by [Claude AI & κ°λ°ν€]

*μµμΆ… μ—…λ°μ΄νΈ: 2025-05-29 (v4.2.0)*